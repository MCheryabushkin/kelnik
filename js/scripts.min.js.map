{"version":3,"sources":["scripts.js"],"names":["$","document","ready","lazyload","page","buttonId","load","url","hide","show","ajax","success","response","trim","fadeOut","text","appendContests","isotope","error","appendTo","jQuery","on","heightList","innerHeight","css","menuCounter","row","flatCounter","priceCounter","filter","itemSelector","getSortData","number","price","itemElem","weight","find","parseFloat","replace","masonry","isFitWidth","this","addClass","removeClass","sortBy","sortAscending","hasClass","click","animate","scrollTop","duration","easing","scrollPos","window","st","blur","val","test","border"],"mappings":"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","file":"scripts.min.js","sourcesContent":["$(document).ready(function ($) {\n    var lazyload = lazyload || {};\n    \n    (function($, lazyload) {\n    \n        \"use strict\";\n    \n        var page = 2,\n            buttonId = \".js_show-more\",\n            loadingId = \"#loading-div\",\n            container = \".flat-list\";\n    \n        lazyload.load = function() {\n    \n            var url = \"./\" + page + \".html\";\n    \n            $(buttonId).hide();\n            $(loadingId).show();\n    \n            $.ajax({\n                url: url,\n                success: function(response) {\n                    if (!response || response.trim() == \"NONE\") {\n                        $(buttonId).fadeOut();\n                        $(loadingId).text(\"No more entries to load!\");\n                        return;\n                    }\n                    appendContests(response);\n                    $(container).isotope('reloadItems');\n                    $(container).isotope();\n                },\n                error: function(response) {\n                    $(loadingId).text(\"Sorry, there was some error with the request. Please refresh the page.\");\n                }\n            });\n        };\n    \n        var appendContests = function(response) {\n            var id = $(buttonId);\n    \n            $(buttonId).show();\n            $(loadingId).hide();\n    \n            $(response).appendTo($(container));\n            page += 1;\n        };\n    \n    })(jQuery, lazyload);\n    \n    \n    $('body').on(\"click\", '.js_show-more', function () {\n        var heightList = $('.flat-list').innerHeight();\n        $('.flat-list').css('height', heightList + heightList + 'px');\n        lazyload.load();\n    });\n    var menuCounter = 0;\n    $('.header__menu-mobile').on(\"click\", function () {\n        if (!menuCounter) {\n            $('.menu-mobile').css(\"left\", \"0px\");\n            $(\"body\").css(\"overflow\", \"hidden\");\n            menuCounter = 1;\n        } else {\n            $('.menu-mobile').css(\"left\", \"-9999px\");\n            $(\"body\").css(\"overflow-y\", \"scroll\");\n            menuCounter = 0;\n        }\n    });\n    $('.menu-mobile a').on(\"click\", function () {\n        $('.menu-mobile').css(\"left\", \"-9999px\");\n        $(\"body\").css(\"overflow-y\", \"scroll\");\n        menuCounter = 0;\n    });\n    var row = $('.flat-list'),\n        item = $('.flats-item__square'),\n        flatCounter = 0,\n        priceCounter = 0;\n    \n    var isotope = row.isotope({\n        filter: '.flats-item',\n        itemSelector: '.flats-item',\n        getSortData: {\n            number: '.flats-item__square parseInt',\n            price: function( itemElem ) {\n                var weight = $( itemElem ).find('.flats-item__price').text();\n                return parseFloat( weight.replace( /\\s/g, '') );\n            }\n        },\n        masonry: {\n            isFitWidth: true\n        }\n    });\n    \n    $('#room').on(\"click\", function () {\n        $(this).addClass('active');\n        $('#price').removeClass('active');\n        if (!flatCounter) {\n            isotope.isotope({\n                sortBy: 'number',\n                sortAscending: false\n            });\n            flatCounter = 1;\n            $(this).removeClass('minToMax');\n        } else {\n            isotope.isotope({\n                sortBy: 'number',\n                sortAscending: true\n            });\n            flatCounter = 0;\n            $(this).addClass('minToMax');\n        }\n    });\n    $('#price').on(\"click\", function () {\n        $(this).addClass('active');\n        $('#room').removeClass('active');\n        if (!priceCounter) {\n            isotope.isotope({\n                sortBy: 'price',\n                sortAscending: true\n            });\n            priceCounter = 1;\n            $(this).addClass('minToMax');\n        } else {\n            isotope.isotope({\n                sortBy: 'price',\n                sortAscending: false\n            });\n            priceCounter = 0;\n            $(this).removeClass('minToMax');\n        }\n    });\n    \n    $('.flats-item__star').on(\"click\", function () {\n        if($(this).hasClass(\"active\")) {\n            $(this).removeClass(\"active\");\n        } else {\n            $(this).addClass(\"active\");\n        }\n    \n    });\n    $('.toTop a').click(function() {\n        $(\"html, body\").animate({\n            scrollTop: 0 + \"px\"\n        },{\n            duration: 500,\n            easing: \"swing\"\n        });\n        $('.js_to-top ').removeClass('show');\n        return false;\n    });\n    \n    var scrollPos = 0;\n    $(window).on('scroll', function(){\n        var st = $(this).scrollTop();\n        if (st > scrollPos || st < 10){\n            $('.js_to-top ').removeClass('show');\n        } else {\n            if(st > 100){\n                $('.js_to-top ').addClass('show');\n            }\n        }\n        scrollPos = st;\n    });\n    $('#email').blur(function() {\n        if($(this).val() != '') {\n            var pattern = /^([a-z0-9_\\.-])+@[a-z0-9-]+\\.([a-z]{2,4}\\.)?[a-z]{2,4}$/i;\n            if(pattern.test($(this).val())){\n                $(this).css({'border' : '1px solid #569b44'});\n                $('#valid').text('Success');\n                $('#valid').css(\"color\", \"#21d221\");\n            } else {\n                $(this).css({'border': '1px solid #ff0000'});\n                $('#valid').text('Не верно');\n                $('#valid').css(\"color\", \"red\");\n            }\n        } else {\n            $(this).css({'border' : '1px solid #ff0000'});\n            $('#valid').text('Поле email не должно быть пустым');\n        }\n    });\n});"]}